{% extends "base.html" %}

{% block title %}Shop.CO - {{ product.name }}{% endblock %}

{% block extra_styles %}
<link href="{{ url_for('static', filename='css/content_blocks/product.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<section class="product-section">
    <nav class="hero-breadcrumbs">
        <a href="{{ url_for('main.home') }}">
            <p>Home</p>
            <img class="breadcrums_arrow" src="{{ url_for('static' , filename='img/breadcrums arrow.svg')}}" width="10.4px" height="18,4px">
        </a>
        <a href="{{ url_for('main.category', category_name=product.category) }}">
            <p>{{ product.category|capitalize }}</p>
            <img class="breadcrums_arrow" src="{{ url_for('static' , filename='img/breadcrums arrow.svg')}}" width="10.4px" height="18,4px">
        </a>
        <a class="active" href="#">
            <p>{{ product.name }}</p>
            <img class="breadcrums_arrow" src="{{ url_for('static' , filename='img/breadcrums arrow.svg')}}" width="10.4px" height="18,4px">
        </a>
    </nav>

    <div class="product-container">
        <div class="product-images">
            <img src="{{ url_for('static', filename='img/' + product.image) }}" 
                 alt="{{ product.name }}"
                 class="main-image">
        </div>

        <div class="product-info">
            <h1>{{ product.name }}</h1>

            <div class="product-rating">
                <div class="rating-stars">
                    {% set full_stars = product.rating|int %}
                    {% set has_half = product.rating - full_stars >= 0.5 %}
                    
                    {% for i in range(full_stars) %}
                    <img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="20" height="20" alt="star">
                    {% endfor %}
                    
                    {% if has_half %}
                    <div class="half">
                        <img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="20" height="20" alt="star">
                    </div>
                    {% endif %}

                    <span class="rating-number">{{ "%.1f"|format(product.rating) }}/5</span>
                </div>
            </div>

            <div class="product-price">
                {% if product.old_price %}
                <span class="current-price">${{ "%.2f"|format(product.price) }}</span>
                <span class="old-price">${{ "%.2f"|format(product.old_price) }}</span>
                {% set discount = ((product.old_price - product.price) / product.old_price * 100)|int %}
                <span class="discount">-{{ discount }}%</span>
                {% else %}
                <span class="current-price">${{ "%.2f"|format(product.price) }}</span>
                {% endif %}
            </div>

            <div class="product-description">
                <h3>Description</h3>
                <p>{{ product.description }}</p>
            </div>

            <div class="product-actions">
                <button class="add-to-cart buttonBlack" data-product-id="{{ product.id }}">
                    Add to Cart
                </button>
                <a href="{{ url_for('main.stub') }}" class="buy-now button">Buy Now</a>
            </div>
        </div>
    </div>
</section>

    <section class="carousel">
        <div class="carousel-header">
            <h2 class="H2-IntegralFont">OUR HAPPY CUSTOMERS</h2>
            <button class="carousel-button prev" onclick="moveCarousel(-1)">
                <img src="{{ url_for('static', filename='img/black-arrow.svg') }}" width="16" height="19" alt="left-arrow(prev)">
            </button>
            <button class="carousel-button next" onclick="moveCarousel(1)">
                <img src="{{ url_for('static', filename='img/black-arrow.svg') }}" width="16" height="19" alt="right-arrow(next)">
            </button>
        </div>
        <ul class="carousel-container">
            <li class="review-group">
                <article class="Reviews-item">
                    <div class="review-header">
                        <h3 class="review-name">Sarah M.</h3>
                        <img src="{{ url_for('static', filename='img/Green-roun-with-check.svg') }}" width="24" height="24" alt="Verified">
                    </div>
                    <ul class="Reviews-item-stars">
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                    </ul>
                    <p class="review-text">"I'm blown away by the quality and style of the clothes I received from Shop.co. From casual wear to elegant dresses, every piece I've bought has exceeded my expectations."</p>
                </article>
                <article class="Reviews-item">
                    <div class="review-header">
                        <h3 class="review-name">Alex K.</h3>
                        <img src="{{ url_for('static', filename='img/Green-roun-with-check.svg') }}" width="24" height="24" alt="Verified">
                    </div>
                    <ul class="Reviews-item-stars">
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                    </ul>
                    <p class="review-text">"Finding clothes that align with my personal style used to be a challenge until I discovered Shop.co. The range of options they offer is truly remarkable, catering to a variety of tastes and occasions."</p>
                </article>
                <article class="Reviews-item">
                    <div class="review-header">
                        <h3 class="review-name">James L.</h3>
                        <img src="{{ url_for('static', filename='img/Green-roun-with-check.svg') }}" width="24" height="24" alt="Verified">
                    </div>
                    <ul class="Reviews-item-stars">
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                    </ul>
                    <p class="review-text">"As someone who's always on the lookout for unique fashion pieces, I'm thrilled to have stumbled upon Shop.co. The selection of clothes is not only diverse but also on-point with the latest trends."</p>
                </article>
            </li>
            <li class="review-group">
                <article class="Reviews-item">
                    <div class="review-header">
                        <h3 class="review-name">Emily R.</h3>
                        <img src="{{ url_for('static', filename='img/Green-roun-with-check.svg') }}" width="24" height="24" alt="Verified">
                    </div>
                    <ul class="Reviews-item-stars">
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                    </ul>
                    <p class="review-text">"Shop.co has become my go-to for all my fashion needs. The quality is unmatched, and the styles are always on trend."</p>
                </article>
                <article class="Reviews-item">
                    <div class="review-header">
                        <h3 class="review-name">Michael T.</h3>
                        <img src="{{ url_for('static', filename='img/Green-roun-with-check.svg') }}" width="24" height="24" alt="Verified">
                    </div>
                    <ul class="Reviews-item-stars">
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                    </ul>
                    <p class="review-text">"I love the variety of options available at Shop.co. Whether I need something casual or formal, I can always find it here."</p>
                </article>
                <article class="Reviews-item">
                    <div class="review-header">
                        <h3 class="review-name">Laura P.</h3>
                        <img src="{{ url_for('static', filename='img/Green-roun-with-check.svg') }}" width="24" height="24" alt="Verified">
                    </div>
                    <ul class="Reviews-item-stars">
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                        <li><img src="{{ url_for('static', filename='img/Star 5.svg') }}" width="23" height="23" alt="star"></li>
                    </ul>
                    <p class="review-text">"The customer service at Shop.co is exceptional. They are always ready to help and ensure I have a great shopping experience."</p>
                </article>
            </li>
        </ul>
    </section>
{% endblock %}

{% block extra_scripts %}
    <script src="{{ url_for('static', filename='js/html1-karusel.js') }}"></script>
    <script src="{{ url_for('static', filename='js/product.js') }}"></script>
{% endblock %}