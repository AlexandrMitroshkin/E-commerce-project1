services:
  - type: web
    name: ecommerce-shop
    env: python
    region: frankfurt
    plan: free
    branch: main
    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements.txt
      echo "ðŸš€ Starting database initialization..."
      python init_render_db.py
      echo "âœ… Database initialization completed!"
    startCommand: gunicorn application:app
    envVars:
      - key: FLASK_APP
        value: application.py
      - key: SECRET_KEY
        generateValue: true
      - key: DATABASE_URL
        value: sqlite:////tmp/shop.db
      - key: RENDER
        value: true
    healthCheckPath: /
    autoDeploy: true