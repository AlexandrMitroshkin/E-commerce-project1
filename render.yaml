services:
  - type: web
    name: ecommerce-shop
    env: python
    region: frankfurt
    plan: free
    branch: main
    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements.txt
      python init_render_db.py
    startCommand: gunicorn application:app
    envVars:
      - key: FLASK_APP
        value: application.py
      - key: SECRET_KEY
        generateValue: true
      - key: DATABASE_URL
        value: sqlite:////opt/render/project/src/instance/shop.db
      - key: RENDER
        value: true
    healthCheckPath: /
    autoDeploy: true
